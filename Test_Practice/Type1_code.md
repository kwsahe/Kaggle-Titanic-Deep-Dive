빅데이터 분석기사 실기 시험에서 데이터 전처리의 80%는 이 세 가지(`loc`, `iloc`, `isin`)로 해결됩니다. 헷갈리지 않게 **시험 실전용**으로 딱 정리해 드립니다.

-----

# ⚡️ Pandas 데이터 선택 3대장 완벽 정리

## 1\. 한눈에 비교 (vs)

| 구분 | **`loc`** (Label Location) | **`iloc`** (Integer Location) |
| :--- | :--- | :--- |
| **기준** | **이름(Label/Name)** | **순서(Index/Number)** |
| **행(Row)** | 인덱스 이름 (예: 'Row1') | 행 번호 (0, 1, 2...) |
| **열(Col)** | 컬럼 이름 (예: 'Age') | 열 번호 (0, 1, 2...) |
| **슬라이싱** | **끝번호 포함** (`['A':'C']` -\> A, B, C) | **끝번호 제외** (`[0:3]` -\> 0, 1, 2) |
| **주용도** | **조건 필터링**, 값 수정 | 데이터 분할, 순서 기반 추출 |

-----

## 2\. `loc`: "이름"과 "조건"으로 찾기 (가장 중요 ⭐)

시험에서 가장 많이 씁니다. **"조건에 맞는 데이터를 찾아 값을 바꿀 때"** 필수입니다.

### 📌 기본 문법

```python
# df.loc[행 조건(또는 이름), 열 이름]
```

### 🔥 실전 패턴 (무조건 외우기)

**① 조건으로 데이터 필터링 (행 선택)**

```python
# 나이가 30 이상인 사람만 뽑기
high_age = df.loc[df['Age'] >= 30]

# (추천) 사실 그냥 이렇게 더 많이 씁니다 (결과는 같음)
high_age = df[df['Age'] >= 30]
```

**② 특정 조건의 특정 컬럼만 뽑기 (행+열 선택)**

```python
# 성별이 'male'인 사람들의 'Age'만 뽑기
male_ages = df.loc[df['Sex'] == 'male', 'Age']
```

**③ ⭐ 조건부 값 변경 (결측치/이상치 처리의 핵심)**

```python
# 'Age'가 0보다 작은(이상치) 값을 0으로 변경
df.loc[df['Age'] < 0, 'Age'] = 0

# 'Grade'가 NaN인(결측치) 값을 'F'로 변경
df.loc[df['Grade'].isna(), 'Grade'] = 'F'
```

**④ 이름으로 슬라이싱 (끝 포함 주의\!)**

```python
# 컬럼 'A'부터 'C'까지 가져오기 ('C'도 포함됨!)
subset = df.loc[:, 'A':'C']
```

-----

## 3\. `iloc`: "숫자(순서)"로 찾기

데이터프레임의 컬럼 이름을 모르거나 무시하고, \*\*"위치"\*\*로만 자를 때 씁니다.

### 📌 기본 문법

```python
# df.iloc[행 번호, 열 번호]
```

### 🔥 실전 패턴

**① 데이터 분할 (Train/Test 나누기 또는 X/y 나누기)**

```python
# 맨 마지막 컬럼이 Target(y), 나머지가 Feature(X)일 때
X = df.iloc[:, :-1]  # 모든 행, 처음부터 마지막 컬럼 직전까지
y = df.iloc[:, -1]   # 모든 행, 맨 마지막 컬럼만
```

**② 특정 위치 데이터 확인**

```python
# 위에서 5개 행, 왼쪽에서 3개 열만 보기
print(df.iloc[:5, :3])

# 100번째 행 데이터 보기
print(df.iloc[99])
```

**③ 슬라이싱 (끝 제외 - 파이썬 리스트와 동일)**

```python
# 0번부터 2번까지 (3번은 포함 안 됨!)
subset = df.iloc[:, 0:3]
```

-----

## 4\. `isin`: "리스트"에 있는지 확인하기

여러 개의 조건(`OR`)을 걸 때 `|` 연산자를 여러 번 쓰는 대신 사용합니다. 코드가 훨씬 깔끔해집니다.

### 📌 기본 문법

```python
# df['컬럼'].isin([찾고_싶은_값_리스트])
```

### 🔥 실전 패턴

**① 여러 값 중 하나라도 포함되면 선택 (OR 조건)**

```python
# 도시가 'Seoul' 이거나 'Busan' 인 데이터 필터링
target_cities = ['Seoul', 'Busan']
result = df[df['City'].isin(target_cities)]

# (비교) isin 안 쓰면 이렇게 길어짐 (비추천)
# result = df[(df['City'] == 'Seoul') | (df['City'] == 'Busan')]
```

**② 포함되지 않는 것만 선택 (`~` 기호 사용)**

```python
# 도시가 'Seoul'이나 'Busan'이 아닌 나머지 지방 도시만 선택
result = df[~df['City'].isin(['Seoul', 'Busan'])]
```

-----

## 📝 시험장용 요약 치트시트

1.  **조건에 맞는 값을 바꾸고 싶다?** ➡️ 무조건 **`loc`**
      * `df.loc[조건, '컬럼'] = 새값`
2.  **마지막 컬럼만 따로 떼고 싶다?** ➡️ **`iloc`**
      * `X = df.iloc[:, :-1]`, `y = df.iloc[:, -1]`
3.  **"A거나 B거나 C인 것"을 찾고 싶다?** ➡️ **`isin`**
      * `df[df['col'].isin(['A', 'B', 'C'])]`

이 세 가지만 자유자재로 쓰시면 1유형 필터링 문제는 걱정 없습니다\!